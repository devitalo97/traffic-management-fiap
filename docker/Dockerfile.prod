FROM eclipse-temurin:21-alpine

WORKDIR /app/

VOLUME /tmp

EXPOSE 8080

COPY ../target/traffic_management_spring_boot-0.0.1-SNAPSHOT.jar /app/app.jar

RUN cat ./app.jar

ENV SPRING_PROFILES_ACTIVE=prod

ENTRYPOINT ["java", "-XX:+UseContainerSupport", "-XX:MaxRAMPercentage=75.0", "-Dspring.profiles.active=prod", "-jar", "/app.jar"]
